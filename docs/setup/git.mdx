---
sidebar_position: 2
---

import Figure from '@site/src/components/Figure'
import StepList from '@site/src/components/StepList'

# Gitのセットアップ

Gitはバージョン管理システムで、「プログラムをいつだれがどのように変更したか」の変更履歴を管理するために使用されます。
Gitを使用することで、コードの変更履歴を追跡し、複数人での共同開発が容易になります。

## 1. Gitのインストール
WSLをインストールすることで、Gitも一緒にインストールされます。以下のコマンドをWSLのターミナルで実行して、Gitがインストールされているか確認してください。

```bash
git --version
```
ここでバージョンの数字がなにも出力されない場合、以下のコマンドを実行してインストールしてください。

```bash
sudo apt update
sudo apt install git
```

## 2. Gitの初期設定
Gitを使用する前に、ユーザー名とメールアドレスを設定する必要があります。以下のコマンドをWSLのターミナルで実行してください。
```bash
git config --global user.name "あなたの名前"
git config --global user.email "あなたのメールアドレス"
```
`あなたの名前`と`あなたのメールアドレス`は、実際に使用する名前とメールアドレスに置き換えてください。
:::tip
ここもまあ何でもいいです。出来ればGitHubに登録している名前とメールアドレスにしてください。
:::

## 3. GitHubアカウントの作成
Gitの変更履歴やプログラムのソースコードをオンラインで管理するためのものがGitHubです。
GitHubを使用することで、他の人とコードを共有したり、共同開発を行ったりすることができます。  
GitHubアカウントを持っていない場合は、[GitHubの公式サイト](https://github.com/)にアクセスしてアカウントを作成してください。

:::warning 注意
アカウントを作成出来た or 作成済みの場合、アカウント名を管理者に教えてください。
GitHub上に招待するので連絡してね
:::

## 4. SSHキーの生成とGitHubへの登録
GitHubと安全に通信するために、SSHキーを生成してGitHubに登録する必要があります。以下の手順に従ってください。
<StepList>
1. **SSHキーの生成**  
   以下のコマンドをWSLのターミナルで実行して、SSHキーを生成します。メールアドレスはGitHubに登録したものを使用してください
    ```bash
    ssh-keygen -t ed25519 -C "あなたのメールアドレス"
    ```
   コマンドを実行すると、いくつかのプロンプトが表示されますが、すべてデフォルトのままでEnterキーを押して進めてください。
   <Figure
     src="https://docs-cdn.ashitabo.net/setup/ssh.gif"
     alt="SSHキーの生成"
     width={600}
     caption="SSHキーの生成"
   />
   :::tip
   パスフレーズは設定しなくても大丈夫です。僕は設定していません。  
   パスフレーズを設定すると以下の手順が必要になります。
   <details>
    <summary>パスフレーズを設定した場合の追加手順</summary>
    1. SSHエージェントを起動します。
        ```bash
        eval "$(ssh-agent -s)"
        ```
    2. SSHキーをSSHエージェントに追加します。
        ```bash
        ssh-add ~/.ssh/id_ed25519
        ```
    3. SSH Configファイルを作成または編集して、SSHキーのパスフレーズを保存します。
        ```bash
        nano ~/.ssh/config
        ```
       以下の内容を追加します。
        ```
        Host github.com
          IdentityFile ~/.ssh/id_ed25519
        ```
       保存したら`Ctrl + X`、`Y`、`Enter`で終了します。
    </details>
   :::
2. **SSH公開キーのコピー**  
   以下のコマンドを実行して、SSH公開キーの内容をクリップボードにコピーします。
    ```bash
    cat ~/.ssh/id_ed25519.pub
    ```
   `ssh-ed25519 AAAA... example@example.com`のような形式で表示されたキーをすべて選択してコピーしてください。
3. **GitHubへのSSHキーの登録**  
   GitHubのウェブサイトにログインし、右上のプロフィールアイコンをクリックして「Settings」を選択します。  
   左側のメニューから「SSH and GPG keys」を選択し、「New SSH key」ボタンをクリックします。  
   「Title」には管理名としてわかりやすい名前を入力し、「Key」には先ほどコピーしたSSH公開キーを貼り付けて、「Add SSH key」ボタンをクリックします。
4. **SSH接続の確認**  
   以下のコマンドをWSLのターミナルで実行して、GitHubへのSSH接続が成功するか確認します。
    ```bash
    ssh -T git@github.com
    ```
   初めて接続する場合、以下のようなメッセージが表示されることがありますが、「yes」と入力してEnterキーを押してください。

    ```bash
    The authenticity of host 'github.com (IP_ADDRESS)' can't be established.
    ED25519 key fingerprint is SHA256:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.
    Are you sure you want to continue connecting (yes/no/[fingerprint])?
    ```

   接続が成功すると、以下のようなメッセージが表示されます。
    ```bash
    Hi USERNAME! You've successfully authenticated, but GitHub does not provide shell access.
    ```
   これでSSHキーの設定は完了です。
</StepList>

以上でGitのセットアップは完了です。これでGitを使用してコードのバージョン管理やGitHubとの連携が可能になります。