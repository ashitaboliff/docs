---
sidebar_position: 3
---

import Figure from '@site/src/components/Figure'
import StepList from '@site/src/components/StepList'

# あしたぼホームページ開発環境の構築
ここまでの準備を終えたら、いよいよあしたぼホームページの開発環境を構築します。  
あしたぼホームページは**フロントエンド**と**バックエンド**の2つの部分で構成されています。  
フロントエンドはユーザーが直接触れる部分で、バックエンドはサーバー側で動作し、データの処理や保存を担当します。

:::warning 注意
この手順では、WSLがインストールされ、GitHubで`ashitaboliff`のメンバーとして招待されていることが前提となります。
まだの場合は、先に[WSLの環境構築](../setup/wsl)と[GitHubアカウントの準備](../setup/git)を完了させてください。
:::

## 1. リポジトリのクローン
まず、あしたぼホームページのソースコードをGitHubからクローンします。  
以下のコマンドをWSLのターミナルで実行してください。
```bash
git clone git@github.com:ashitaboliff/main.git ~/ashitabo
```
これにより、`ashitabo`というディレクトリが作成され、その中にソースコードがダウンロードされます。

## 2. FE, BE関連リポジトリのクローン
あしたぼホームページはモノレポ構成になっており、フロントエンドとバックエンドのコードはそれぞれ別のリポジトリに分かれています。  
先ほどクローンした`ashitabo`ディレクトリに移動し、以下のスクリプトを実行して必要なリポジトリをクローンします。
```bash
cd ~/ashitabo
bash scripts/clone-repos.sh
```
これにより、以下のディレクトリが作成され、それぞれのリポジトリがクローンされます。
- `app/frontend`
- `app/backend`
- `app/docs`
- `packages/types`
- `utils/gacha`

:::tip
SSHが使えない場合は、以下のコマンドを実行してHTTPSでクローンできます。
```bash
bash scripts/clone-repos.sh --https
```
:::

:::warning 注意
このドキュメントは2026年1月時点のものです。  
将来的にリポジトリ構成が変更される可能性があります。その場合はんまあそんときです。
:::

## 3. 環境変数の設定
あしたぼホームページのフロントエンドとバックエンドは、動作に必要な設定情報を環境変数として管理しています。  
各ディレクトリに移動し、`.env.example`ファイルをコピーして`.env`ファイルを作成してください。
```bash
# フロントエンドの環境変数設定
cd ~/ashitabo/app/frontend
cp .env.example .env
# バックエンドの環境変数設定
cd ~/ashitabo/app/backend
cp .env.example .env
```

:::tip
この説明ではターミナル1画面での操作を記述していますが、VSCodeではターミナルを複数開いて管理することが出来ます。
僕はFE, BE, types, docsそれぞれでターミナルを開いていることが多いです。めっちゃ便利。
:::

作成した`.env`ファイルをテキストエディタで開き、必要な設定値を入力してください。  
フロントエンドのenvファイルはほぼ変える必要がありません。
バックエンドのenvファイルは僕に聞いてください。送ります。

その上でフロントエンドとバックエンド共通で`API_KEY`を64文字のランダムな文字列に設定してください。  
以下のコマンドでランダムな文字列を生成できます。
```bash
openssl rand -base64 48
```

## 4. 依存関係のインストール
フロントエンドとバックエンドの両方で、必要な依存関係をインストールします。  
それぞれのディレクトリに移動し、以下のコマンドを実行してください。
```bash
# フロントエンドの依存関係インストール
cd ~/ashitabo/app/frontend
pnpm install
# バックエンドの依存関係インストール
cd ~/ashitabo/app/backend
pnpm install
```

これであしたぼホームページの開発環境の構築は完了です。最後に、フロントエンドとバックエンドの両方が正しく動作するか確認しましょう。

## 5. 動作確認
フロントエンドとバックエンドの両方を起動し、正常に動作するか確認します。  
それぞれのディレクトリに移動し、以下のコマンドを実行してください。
```bash
# バックエンドの起動
cd ~/ashitabo/app/backend
pnpm dev
```
バックエンドが正常に起動したら、別のターミナルを開いて以下のコマンドを実行します。
```bash
# フロントエンドの起動
cd ~/ashitabo/app/frontend
pnpm dev
```
ブラウザで`http://localhost:3000`にアクセスし、あしたぼホームページが表示されることを確認してください。
これで開発環境のセットアップと動作確認は完了です。お疲れ様でした！