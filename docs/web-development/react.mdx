---
sidebar_position: 7
---

# 7. Reactとは

Reactは、Webアプリの見た目を構築するためのJavaScriptライブラリです。Facebookによって開発され、めっちゃ使われています。
Reactの使い方や構文は正直[公式ドキュメント](https://ja.react.dev/)を見たほうが早いですが、ここでは初学者向けに「何が嬉しいのか」を中心に説明します。

正直ここはカロリー高めですが、要点はシンプルです。

:::warning 注意
Reactで書くJSXは、そのままではブラウザで実行できません。  
ビルド時にJavaScriptへ変換して動かします。
:::

## 7.1 JavaScriptでDOMを直接操作すると
まずは比較のために、Reactを使わないカウントアプリの例を見せます。

```html
<h1 id="count">いまの値: 0</h1>
<button id="plus-button">+1する</button>

<script>
  let count = 0;
  const countEl = document.getElementById('count');
  const plusButtonEl = document.getElementById('plus-button');

  plusButtonEl.addEventListener('click', () => {
    count += 1;
    countEl.innerText = `いまの値: ${count}`;
  });
</script>
```

これはボタンを押すと数字が1ずつ増えるシンプルなアプリです。

この書き方でも当然動きます。ただし
- データ(`count`)の管理、更新
- divにidで要素を取得
- 画面(`countEl.innerText`)の更新
- イベント登録

このあたりとUIの関係が非常にわかりづらいコードになってしまいます。

## 7.2 Reactで同じことをすると
Reactでは「今どう見えるべきか」を書きます。

```jsx live
function Counter() {
  const [count, setCount] = useState(0);

  return (
    <div>
      <h1>いまの値: {count}</h1>
      <button onClick={() => setCount(count + 1)}>+1する</button>
    </div>
  );
}
```

JavaScriptの例と比べると、React側は「値を更新する」ことだけに集中できています。  
`count`が変わると、表示(`<h1>`)は自動的に再計算されます。

## 7.3 stateとprops
Reactを理解するときは、この2つだけ覚えればかなり進めます。
- `state`: コンポーネントの中で持つ、変わる値。状態とも言います。
- `props`: 親コンポーネントから受け取る値。プロパティとも言います。

```jsx
function GreetingCard({ name }) {
  return <p>こんにちは、{name}さん！</p>;
}
```

:::tip
ここではpropsをプロパティと表記しましたが、みんなそのまま読んで`プロップス`って言います。僕もそう。
:::

## 7.4 `UI = f(state, props)`
Reactの基本思想はこれです。

`UI = f(state, props)`  
意味は「画面はstateとpropsで決まる」です。

例えば次のコンポーネントでは、`count`がstate、`step`がpropsです。

```jsx
function Counter({ step }) {
  const [count, setCount] = useState(0);

  return (
    <button onClick={() => setCount(count + step)}>
      いまの値: {count}（+{step}ずつ増える）
    </button>
  );
}
```

`count`または`step`が変わると、表示も変わります。これが`UI = f(state, props)`です。

## 7.5 副作用(useEffect)は応用編で
ここまでの段階では、まず`state`と`props`だけでUIを組み立てることに慣れましょう。  
ただWebアプリにはstateやpropsの変更だけでは対応できない場面があり、その場合に`useEffect`という仕組みを使います。

が！

:::danger
`useEffect`は使うな。
:::

`useEffect`の具体的な使い所とよくある誤用は、応用編でまとめています。  
[Reactの副作用とuseEffect](../dev-advanced/react)

## 7.6 Reactの学習リソース

前述したように、Reactの公式ドキュメントが最も信頼できる情報源です。
Reactは普通に難しすぎるせいでドキュメントがマジで親切ですから、ちゃんと読んでね。こっちの方が正しい。
- [React公式ドキュメント (日本語)](https://ja.react.dev/)
- [React公式チュートリアル - 三目並べ](https://ja.react.dev/learn/tutorial-tic-tac-toe)

特にチュートリアルはReactの基本的な概念を学ぶのに最適です。三目並べ作ってね。

## 7.7 まとめ
- Reactは宣言的UIを提供するJavaScriptライブラリ
- `state`は「中で変わる値」、`props`は「外から渡される値」
- UIは`UI = f(state, props)`という考え方で整理できる
- JavaScriptのDOM直接操作より、UI更新の管理がシンプルになる

以上がReactの基本的な考え方です。次はNext.jsというReactのフレームワークについて説明します。
